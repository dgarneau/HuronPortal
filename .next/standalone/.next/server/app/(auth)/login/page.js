(()=>{var e={};e.id=665,e.ids=[665],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5154:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>c,originalPathname:()=>u,pages:()=>m,routeModule:()=>p,tree:()=>d}),a(9255),a(5866),a(1506);var s=a(3191),t=a(8716),n=a(7922),i=a.n(n),o=a(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(r,l);let d=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9255)),"C:\\GIT\\HuronPortal\\app\\(auth)\\login\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\GIT\\HuronPortal\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\GIT\\HuronPortal\\app\\(auth)\\login\\page.tsx"],u="/(auth)/login/page",c={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7976:()=>{},2354:(e,r,a)=>{Promise.resolve().then(a.bind(a,3119))},184:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},3119:(e,r,a)=>{"use strict";a.d(r,{LoginForm:()=>c});var s=a(326),t=a(7577),n=a(5047),i=a(4723),o=a(4064),l=a(7254),d=a(3679),m=a(4231),u=a(4948);let c=()=>{let e=(0,n.useRouter)(),[r,a]=(0,t.useState)(""),[c,p]=(0,t.useState)(!1),{register:x,handleSubmit:h,formState:{errors:g}}=(0,i.cI)({resolver:(0,o.F)(l.dm)}),y=async r=>{console.log("Form data:",r),p(!0),a("");try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await s.json();if(!s.ok){a(t.error||"Une erreur est survenue");return}e.push("/"),e.refresh()}catch(e){a("Une erreur est survenue lors de la connexion")}finally{p(!1)}};return(0,s.jsxs)("form",{noValidate:!0,onSubmit:h(y),className:"space-y-4 w-full max-w-md",children:[r&&s.jsx(u.B,{children:r}),s.jsx("div",{children:s.jsx(m.I,{...x("username"),type:"text",label:"Nom d'utilisateur ou courriel",error:g.username?.message,autoComplete:"username",placeholder:"utilisateur.nom ou courriel@exemple.com",autoFocus:!0})}),s.jsx("div",{children:s.jsx(m.I,{...x("password"),type:"password",label:"Mot de passe",error:g.password?.message,autoComplete:"current-password"})}),s.jsx(d.z,{type:"submit",variant:"primary",className:"w-full",isLoading:c,children:"Se connecter"})]})}},3679:(e,r,a)=>{"use strict";a.d(r,{z:()=>t});var s=a(326);a(7577);let t=({variant:e="primary",size:r="md",isLoading:a=!1,children:t,className:n="",disabled:i,...o})=>s.jsx("button",{className:`font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${{primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500 disabled:bg-primary-300",secondary:"bg-secondary-200 hover:bg-secondary-300 text-secondary-900 focus:ring-secondary-400 disabled:bg-secondary-100",danger:"bg-error-600 hover:bg-error-700 text-white focus:ring-error-500 disabled:bg-error-300"}[e]} ${{sm:"py-1 px-3 text-sm",md:"py-2 px-4 text-base",lg:"py-3 px-6 text-lg"}[r]} ${n}`,disabled:i||a,...o,children:a?"Chargement...":t})},4948:(e,r,a)=>{"use strict";a.d(r,{B:()=>t});var s=a(326);a(7577);let t=({children:e,className:r=""})=>e?s.jsx("div",{className:`bg-error-50 border border-error-200 text-error-700 px-4 py-3 rounded-md ${r}`,role:"alert",children:s.jsx("p",{className:"text-sm",children:e})}):null},4231:(e,r,a)=>{"use strict";a.d(r,{I:()=>n});var s=a(326),t=a(7577);let n=a.n(t)().forwardRef(({label:e,error:r,className:a="",id:t,...n},i)=>{let o=t||`input-${e?.replace(/\s+/g,"-").toLowerCase()}`;return(0,s.jsxs)("div",{className:"w-full",children:[e&&s.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-secondary-700 mb-1",children:e}),s.jsx("input",{ref:i,id:o,className:`input-field ${r?"border-error-500 focus:ring-error-500":""} ${a}`,...n}),r&&s.jsx("p",{className:"mt-1 text-sm text-error-600",role:"alert",children:r})]})});n.displayName="Input"},7254:(e,r,a)=>{"use strict";a.d(r,{Lf:()=>d,dm:()=>o,c5:()=>l,J6:()=>n,gV:()=>i});var s=a(9969);let t={password:{required:"Le mot de passe est requis",minLength:"Le mot de passe doit contenir au moins 8 caract\xe8res",maxLength:"Le mot de passe ne peut pas d\xe9passer 128 caract\xe8res"},user:{usernameRequired:"Le nom d'utilisateur est requis",usernameMin:"Le nom d'utilisateur doit contenir au moins 3 caract\xe8res",usernameMax:"Le nom d'utilisateur ne peut pas d\xe9passer 50 caract\xe8res",usernameFormat:"Le nom d'utilisateur ne peut contenir que des lettres minuscules, chiffres, points, traits d'union et underscores",nameRequired:"Le nom complet est requis",nameMax:"Le nom ne peut pas d\xe9passer 100 caract\xe8res",emailRequired:"Le courriel est requis",emailInvalid:"Adresse courriel invalide",emailMax:"Le courriel ne peut pas d\xe9passer 100 caract\xe8res",roleRequired:"Le r\xf4le est requis",roleInvalid:"R\xf4le invalide. Choisir: Admin, Contr\xf4leur ou Utilisateur",duplicateUsername:e=>`Le nom d'utilisateur "${e}" est d\xe9j\xe0 utilis\xe9. Veuillez en choisir un autre.`,duplicateEmail:e=>`Le courriel "${e}" est d\xe9j\xe0 utilis\xe9. Veuillez en choisir un autre.`},machine:{numeroOLRequired:"Le num\xe9ro #OL est requis",numeroOLMax:"Le num\xe9ro #OL ne peut pas d\xe9passer 50 caract\xe8res",numeroOLFormat:"Le num\xe9ro #OL ne peut contenir que des lettres majuscules, chiffres et tirets",duplicateOL:e=>`Le num\xe9ro #OL "${e}" existe d\xe9j\xe0`,typeRequired:"Le type de machine est requis",typeMax:"Le type ne peut pas d\xe9passer 200 caract\xe8res",clientRequired:"Le client est requis",clientInvalid:"Client invalide"},client:{companyNameRequired:"Le nom de l'entreprise est requis",companyNameMax:"Le nom de l'entreprise ne peut pas d\xe9passer 200 caract\xe8res",addressRequired:"L'adresse est requise",addressMax:"L'adresse ne peut pas d\xe9passer 300 caract\xe8res",provinceRequired:"La province est requise",provinceInvalid:"Province invalide",postalCodeRequired:"Le code postal est requis",postalCodeFormat:"Format de code postal invalide (A1A 1A1 ou A1A1A1)",hasMatches:e=>`Ce client a ${e} machine(s) associ\xe9e(s). Veuillez d'abord supprimer ou r\xe9assigner les machines.`}},n=s.Ryn({username:s.Z_8().min(3,t.user.usernameMin).max(50,t.user.usernameMax).regex(/^[a-z0-9._-]+$/,t.user.usernameFormat),email:s.Z_8().min(1,t.user.emailRequired).email(t.user.emailInvalid).max(100,t.user.emailMax),name:s.Z_8().min(1,t.user.nameRequired).max(100,t.user.nameMax),password:s.Z_8().min(8,t.password.minLength).max(128,t.password.maxLength),role:s.KmV(["Admin","Contr\xf4leur","Utilisateur"],{message:t.user.roleInvalid}),isActive:s.O72().default(!0)}),i=s.Ryn({username:s.Z_8().min(3,t.user.usernameMin).max(50,t.user.usernameMax).regex(/^[a-z0-9._-]+$/,t.user.usernameFormat).optional(),email:s.Z_8().email(t.user.emailInvalid).max(100,t.user.emailMax).optional(),name:s.Z_8().min(1,t.user.nameRequired).max(100,t.user.nameMax).optional(),password:s.Z_8().min(8,t.password.minLength).max(128,t.password.maxLength).optional(),role:s.KmV(["Admin","Contr\xf4leur","Utilisateur"],{message:t.user.roleInvalid}).optional(),isActive:s.O72().optional()}),o=s.Ryn({username:s.Z_8().min(1,"Le nom d'utilisateur ou courriel est requis"),password:s.Z_8().min(1,t.password.required)}),l=s.Ryn({numeroOL:s.Z_8().min(1,t.machine.numeroOLRequired).max(50,t.machine.numeroOLMax).regex(/^[A-Z0-9-]+$/,t.machine.numeroOLFormat),type:s.Z_8().min(1,t.machine.typeRequired).max(200,t.machine.typeMax),clientId:s.Z_8().uuid(t.machine.clientInvalid)});s.Ryn({numeroOL:s.Z_8().min(1,t.machine.numeroOLRequired).max(50,t.machine.numeroOLMax).regex(/^[A-Z0-9-]+$/,t.machine.numeroOLFormat).optional(),type:s.Z_8().min(1,t.machine.typeRequired).max(200,t.machine.typeMax).optional(),clientId:s.Z_8().uuid(t.machine.clientInvalid).optional()});let d=s.Ryn({companyName:s.Z_8().min(1,t.client.companyNameRequired).max(200,t.client.companyNameMax),address:s.Z_8().min(1,t.client.addressRequired).max(300,t.client.addressMax),province:s.KmV(["QC","ON","AB","BC","MB","NB","NL","NT","NS","NU","PE","SK","YT"],{message:t.client.provinceInvalid}),postalCode:s.Z_8().regex(/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/,t.client.postalCodeFormat).transform(e=>e.replace(/[ -]/g,"").toUpperCase())});s.Ryn({companyName:s.Z_8().min(1,t.client.companyNameRequired).max(200,t.client.companyNameMax).optional(),address:s.Z_8().min(1,t.client.addressRequired).max(300,t.client.addressMax).optional(),province:s.KmV(["QC","ON","AB","BC","MB","NB","NL","NT","NS","NU","PE","SK","YT"],{message:t.client.provinceInvalid}).optional(),postalCode:s.Z_8().regex(/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/,t.client.postalCodeFormat).transform(e=>e.replace(/[ -]/g,"").toUpperCase()).optional()})},9255:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>n});var s=a(9510);let t=(0,a(8570).createProxy)(String.raw`C:\GIT\HuronPortal\components\forms\LoginForm.tsx#LoginForm`);function n(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-primary-700 mb-2",children:"Huron Portal"}),s.jsx("p",{className:"text-xl text-secondary-600 mb-8",children:"Syst\xe8me de Gestion des Machines CNC"}),s.jsx("h2",{className:"text-2xl font-semibold text-secondary-900",children:"Connexion"})]}),s.jsx("div",{className:"bg-white shadow-md rounded-lg p-8",children:s.jsx(t,{})})]})})}},1506:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>n,metadata:()=>t});var s=a(9510);a(7272);let t={title:"Huron Portal - Gestion des Machines CNC",description:"Syst\xe8me de gestion des machines CNC pour Huron"};function n({children:e}){return s.jsx("html",{lang:"fr",children:s.jsx("body",{className:"antialiased bg-secondary-50 text-secondary-900",children:e})})}},7272:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[276,471,683],()=>a(5154));module.exports=s})();