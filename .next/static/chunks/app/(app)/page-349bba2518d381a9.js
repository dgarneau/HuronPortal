(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[198],{1673:function(e,t,s){Promise.resolve().then(s.bind(s,7820))},7820:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var r=s(7437),n=s(2265),a=s(2704);function i(){let[e,t]=(0,n.useState)([]),[s,i]=(0,n.useState)([]),[l,c]=(0,n.useState)(!0),[d,o]=(0,n.useState)(null),[u,m]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async function(){try{c(!0);let e=await fetch("/api/machines?limit=50");if(!e.ok)throw Error("Erreur lors du chargement des machines");let s=await e.json();i(s.data||[]),t(s.data||[])}catch(e){o(e instanceof Error?e.message:"Une erreur est survenue")}finally{c(!1)}})()},[]),(0,n.useEffect)(()=>{u?t(s.filter(e=>e.numeroOL.toLowerCase().includes(u.toLowerCase())||e.type.toLowerCase().includes(u.toLowerCase())||e.clientName.toLowerCase().includes(u.toLowerCase()))):t(s)},[u,s]),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Machines CNC"}),(0,r.jsx)("p",{className:"text-secondary-600",children:"Liste de toutes les machines enregistr\xe9es dans le syst\xe8me"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-secondary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher par num\xe9ro OL, type ou client...",value:u,onChange:e=>m(e.target.value),className:"input-field pl-10 w-full"})]}),d&&(0,r.jsx)("div",{className:"bg-error-50 border border-error-200 text-error-700 px-4 py-3 rounded-lg",children:d}),(0,r.jsx)(a._,{columns:[{key:"numeroOL",label:"Num\xe9ro OL"},{key:"type",label:"Type de machine"},{key:"clientName",label:"Client"},{key:"createdAt",label:"Date de cr\xe9ation",render:e=>new Date(e.createdAt).toLocaleDateString("fr-CA")}],data:e,keyExtractor:e=>e.id,emptyMessage:"Aucune machine enregistr\xe9e",isLoading:l})]})}},2704:function(e,t,s){"use strict";s.d(t,{_:function(){return n}});var r=s(7437);function n(e){let{columns:t,data:s,keyExtractor:n,emptyMessage:a="Aucune donn\xe9e disponible",isLoading:i=!1,actions:l}=e;return i?(0,r.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):0===s.length?(0,r.jsx)("div",{className:"text-center py-12 bg-white rounded-lg border border-secondary-200",children:(0,r.jsx)("p",{className:"text-secondary-500 text-lg",children:a})}):(0,r.jsx)("div",{className:"bg-white rounded-lg border border-secondary-200 shadow-sm",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-secondary-200",children:[(0,r.jsx)("thead",{className:"bg-secondary-50 sticky top-0",children:(0,r.jsxs)("tr",{children:[t.map(e=>(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-700 uppercase tracking-wider",children:e.label},e.key)),l&&(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-secondary-700 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-secondary-200",children:s.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-secondary-50 transition-colors",children:[t.map(t=>{var s;return(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-secondary-900",children:t.render?t.render(e):String(null!==(s=e[t.key])&&void 0!==s?s:"")},t.key)}),l&&(0,r.jsx)("td",{className:"px-6 py-4 text-right text-sm font-medium",children:l(e)})]},n(e)))})]})})})}s(2265)}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1673)}),_N_E=e.O()}]);